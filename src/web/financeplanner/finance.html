<!doctype html>
<html>
<head>
  <title>Matt's Finance Planner</title>
  <script type="text/javascript" src="jquery1.7.2.js"></script>
  <script type="text/javascript" src="finance.js"></script>
  <script type="text/javascript" src="display.js"></script>
  <link rel="stylesheet" type="text/css" href="finance.css" />
</head>
 <body>

 <div id="container">
  <div id="choose">
   <h2 class="title">Current cashflows</h2>
   <div id="create">
    <select id="cashflows" size="15">
    </select>

    <input id="cashflowname" alt="hey!"/>
    <button id="newcashflow">Create new CashFlow</button>
    <div class="footer"></div><!-- solely for display purposes -->
   </div>
  </div> <!-- end #choose -->

  <div id="calculations">
   <h2 class="title">Calculations</h2>
   <table id="results"></table>
  </div>

  <div id="current">
   <h2 class="title">Create and edit amounts</h2>
   <table id="pertrans"></table>
  </div>
 </div> <!-- end #container -->

 <script type="text/javascript">

 $(document).ready(function() {

  var analysis = new Analysis();
  var cfview = new CashFlowView(analysis);
  var gview = new GridView(analysis);
  var aview = new AnalyzeView(analysis);
  
  analysis.addCashFlow(new CashFlow("default"));
  $("#cashflows").val("default");
  analysis.setActiveCashFlow("default");

  
  $("#newcashflow").click(function() {
    try {
      analysis.addCashFlow(new CashFlow($("#cashflowname").val()));
    } catch(e) {
      alert("unable to create new CashFlow: " + e);
    }
  });
  
  $("#cashflows").change(function() {
    var name = $("#cashflows").val();
    analysis.setActiveCashFlow(name);
  });

 });

 </script>
 </body>
</html>