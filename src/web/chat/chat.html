<!doctype html>
<html>
<head>
  <title>the Fenwick Chat Machine</title>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
  <script type="text/javascript" src="dal.js"></script>
  <script type="text/javascript" src="model.js"></script>
  <script type="text/javascript" src="behavior.js"></script>
  <link rel="stylesheet" type="text/css" href="style.css" />
</head>

<body>


 <div id="wrapper">

  <div id="main">
  
   <div id="messagehistory"></div>

   <div id="newmessage">
    new message:<textarea id="text"></textarea>
    <button id="savemessage">Save message</button>
   </div>
  
  </div> <!-- end #main--> 


  <div id="sidebar">
  
   <div id="config">
    <div id="setconfig">
     <table border="1">
       <tr>
        <th>parameter</th>
        <th>current value</th>
        <th>change</th>
       </tr>
       <tr>
         <td>username</td>
         <td id="currentusername"></td>
         <td><input name="username" id="username" /></td>
       </tr>
       <tr>
         <td>room</td>
         <td id="currentroom"></td>
         <td><input id="room" name="room"/></td>
       </tr>
     </table>
     <button id="updateconfig">Save updated configuration</button>
    </div>
   </div> <!-- end #config -->
   
   <div id="statuscont">
    <div id="status"></div>
   </div>
   
  </div> <!-- end #sidebar -->
  
  
  <div id="footer"></div>

 </div> <!--  end wrapper -->
 
 
<script type="text/javascript">

  $(document).ready(function() {

      var dal = new Dal();
      var model = new Model("testroom", "anonymous", dal);

      var behavior = new Behavior($, model);
      behavior.addBehavior();

      model._notifyListeners("room&username");
      model.startGetMessages();

  });

</script>

</body>

</html>

