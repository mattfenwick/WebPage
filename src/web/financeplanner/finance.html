<!doctype html>
<html>
<head>
  <title>Matt's Finance Planner</title>
  <script type="text/javascript" src="jquery1.7.2.js"></script>
  <script type="text/javascript" src="finance.js"></script>
  <script type="text/javascript" src="display.js"></script>
  <link rel="stylesheet" type="text/css" href="finance.css" />
</head>
 <body>

 <div id="container">
  <div id="choose">
   <div id="create">
    cashflow name:<input id="cashflowname" />
    <button id="newcashflow">Create new</button>
   </div>
  
   Current cashflows <span class="selected">(active)</span>:
   <ul id="cashflows">
   </ul>
  </div> <!-- end #choose -->

  <div id="calculations">
   <table id="results"></table>
  </div>

  <div id="current">
   <table id="pertrans"></table>
  </div>
 </div> <!-- end #container -->

 <script type="text/javascript">

 $(document).ready(function() {

  var analysis = new Analysis();
  var cfview = new CashFlowView(analysis);
  var gview = new GridView(analysis);
  var aview = new AnalyzeView(analysis);
  
  var cflow = new CashFlow("default");
  analysis.addCashFlow(cflow);
  analysis.setActiveCashFlow("default");

  
  $("#newcashflow").click(function() {
    analysis.addCashFlow(new CashFlow($("#cashflowname").val()));
  });
  
  $(document).on('click', '#cashflows li', function() {
    var name = $(this).text();
    analysis.setActiveCashFlow(name);
  });

 });

 </script>
 </body>
</html>